{"ast":null,"code":"import { ADD_TO_CART, DECREMENT, INCREMENT, REMOVE_ITEM, TOGGLE_CART } from \"../action/actionTypes\"; // Load cart data from local storage if available\n\nconst initialState = {\n  isCartOpen: false,\n  cart: JSON.parse(localStorage.getItem(\"cart\")) || []\n};\n\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case TOGGLE_CART:\n      return { ...state,\n        isCartOpen: action.payload\n      };\n\n    case ADD_TO_CART:\n      const itemExist = state.cart.some(item => item.id === action.payload.id);\n\n      if (!itemExist) {\n        const updatedCart = [...state.cart, action.payload];\n        localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n        return { ...state,\n          cart: updatedCart\n        };\n      } else {\n        const updatedCart = state.cart.map(item => {\n          if (item.id === action.payload.id) {\n            return { ...item,\n              quantity: item.quantity + 1\n            };\n          } else {\n            return item;\n          }\n        });\n        localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n        return { ...state,\n          cart: updatedCart\n        };\n      }\n\n    case REMOVE_ITEM:\n      const updatedCart = state.cart.filter(item => item.id !== action.payload);\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      return { ...state,\n        cart: updatedCart\n      };\n\n    case INCREMENT:\n      const updatedIncrementCart = state.cart.map(item => {\n        if (item.id === action.payload) {\n          return { ...item,\n            quantity: item.quantity + 1\n          };\n        } else {\n          return item;\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(updatedIncrementCart));\n      return { ...state,\n        cart: updatedIncrementCart\n      };\n\n    case DECREMENT:\n      const updatedDecrementCart = state.cart.map(item => {\n        if (item.id === action.payload) {\n          return { ...item,\n            quantity: item.quantity - 1\n          };\n        } else {\n          return item;\n        }\n      }).filter(item => item.quantity !== 0);\n      localStorage.setItem(\"cart\", JSON.stringify(updatedDecrementCart));\n      return { ...state,\n        cart: updatedDecrementCart\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"names":["ADD_TO_CART","DECREMENT","INCREMENT","REMOVE_ITEM","TOGGLE_CART","initialState","isCartOpen","cart","JSON","parse","localStorage","getItem","cartReducer","state","action","type","payload","itemExist","some","item","id","updatedCart","setItem","stringify","map","quantity","filter","updatedIncrementCart","updatedDecrementCart"],"sources":["E:/Nifty It Solution/Task2/shoppingCart/src/redux/reducer/index.js"],"sourcesContent":["import { ADD_TO_CART, DECREMENT, INCREMENT, REMOVE_ITEM, TOGGLE_CART } from \"../action/actionTypes\";\r\n\r\n// Load cart data from local storage if available\r\nconst initialState = {\r\n    isCartOpen: false,\r\n    cart: JSON.parse(localStorage.getItem(\"cart\")) || [],\r\n};\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_CART:\r\n            return {\r\n                ...state,\r\n                isCartOpen: action.payload\r\n            };\r\n\r\n        case ADD_TO_CART:\r\n            const itemExist = state.cart.some(item => item.id === action.payload.id);\r\n\r\n            if (!itemExist) {\r\n                const updatedCart = [...state.cart, action.payload];\r\n                localStorage.setItem(\"cart\", JSON.stringify(updatedCart)); \r\n                return {\r\n                    ...state,\r\n                    cart: updatedCart\r\n                };\r\n            } else {\r\n                const updatedCart = state.cart.map(item => {\r\n                    if (item.id === action.payload.id) {\r\n                        return {\r\n                            ...item,\r\n                            quantity: item.quantity + 1\r\n                        };\r\n                    } else {\r\n                        return item;\r\n                    }\r\n                });\r\n                localStorage.setItem(\"cart\", JSON.stringify(updatedCart)); \r\n                return {\r\n                    ...state,\r\n                    cart: updatedCart\r\n                };\r\n            }\r\n\r\n        case REMOVE_ITEM:\r\n            const updatedCart = state.cart.filter(item => item.id !== action.payload);\r\n            localStorage.setItem(\"cart\", JSON.stringify(updatedCart)); \r\n            return {\r\n                ...state,\r\n                cart: updatedCart\r\n            };\r\n\r\n        case INCREMENT:\r\n            const updatedIncrementCart = state.cart.map(item => {\r\n                if (item.id === action.payload) {\r\n                    return {\r\n                        ...item,\r\n                        quantity: item.quantity + 1\r\n                    };\r\n                } else {\r\n                    return item;\r\n                }\r\n            });\r\n            localStorage.setItem(\"cart\", JSON.stringify(updatedIncrementCart)); \r\n            return {\r\n                ...state,\r\n                cart: updatedIncrementCart\r\n            };\r\n\r\n        case DECREMENT:\r\n            const updatedDecrementCart = state.cart.map(item => {\r\n                if (item.id === action.payload) {\r\n                    return {\r\n                        ...item,\r\n                        quantity: item.quantity - 1\r\n                    };\r\n                } else {\r\n                    return item;\r\n                }\r\n            }).filter(item => item.quantity !== 0);\r\n            localStorage.setItem(\"cart\", JSON.stringify(updatedDecrementCart)); \r\n            return {\r\n                ...state,\r\n                cart: updatedDecrementCart\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cartReducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}